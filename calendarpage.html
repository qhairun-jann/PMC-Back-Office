<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Calendar | Rizurf Back Office</title>
    <meta name="description" content="A description.">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.5.1/main.min.css" rel="stylesheet" />
    <link href="/assets/css/style.css" rel="stylesheet" />

</head>

<body class="p-0 bg-dark text-center text-white">
    <div class="sticky-top fixedtop" includehtml="navbar.html"></div>
    <main class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
        <section class="container my-5">
            <div class="row justify-content-center text-center">
                <div class="col-sm-10">
                    <h1 class="mt-5 text-white">Calendar</h1>
                    <hr />
                    <div class="row mt-5">
                        <div class="col-lg-12 col-4 mb-3">
                            <div id="calendar"></div>
                        </div>


                    </div>
                </div>
            </div>
        </section>
        <footer includehtml="footer.html" class="mt-auto"></footer>
    </main>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.5.1/main.min.js"></script>
    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/includefile.js"></script>
    <script>
        includehtml();
    </script>
    <script>
        //TASK-TO-WAN-REVIEW
        const mockData = [
            {
                title: "Payment",
                allDay: true,
                date: "2021-04-10",
                backgroundColor: "transparent",
                borderColor: "transparent",
                extendedProps: {
                    statusColor: "red"
                },
            },
            {
                title: "Maintenance",
                allDay: true,
                date: "2021-04-11",
                backgroundColor: "transparent",
                borderColor: "transparent",
                extendedProps: {
                    statusColor: "yellow"
                },
            },
            {
                title: "Internet",
                allDay: true,
                date: "2021-04-12",
                backgroundColor: "transparent",
                borderColor: "transparent",
                extendedProps: {
                    statusColor: "green"
                },
            },

        ];

        document.addEventListener('DOMContentLoaded', function () {
            const calendarEl = document.getElementById('calendar');

            const calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                initialDate: "2021-04",//new Date(),
                headerToolbar: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,timeGridWeek,timeGridDay'
                },
                eventContent: function (arg) {
                    let El = document.createElement('div')
                    // console.log(arg.event.title, arg.event.extendedProps.statusColor)
                    const title = arg.event.title;
                    const htmlContent = `
                     <div style="position:relative;color:black;border:0px solid red;width:fit-content;">
                        ${title}
                        <div style="background-color: ${arg.event.extendedProps.statusColor};height: 10px;width: 10px;border-radius: 50px;position:absolute;top:0px;right:-14px"></div>
                     </div>
                    `
                    El.innerHTML = `${htmlContent}`
                    let arrayOfDomNodes = [El]
                    return { domNodes: arrayOfDomNodes }
                },
                events: mockData,
                /* eventDidMount: function (info) {
                    console.log(info.event);
                } */

            });
            calendar.render();
        });

    </script>
</body>

</html>
